:root{
  --bg: #f8fafc;
  --surface: #ffffff;
  --text: #0f172a;
  --muted: #475569;
  --primary: #2563eb;
  --danger: #dc2626;
  --success: #059669;
  --radius: 10px;
  --pad: 0.75rem;
}

@media (prefers-color-scheme: dark){
  /* Revert to the previous, higher-contrast dark palette used before */
  :root{
    --bg: #1e293b;      /* darker slate background */
    --surface: #334155; /* card surface */
    --text: #f8fafc;    /* light text */
    --muted: #cbd5e1;   /* muted labels */
    --primary: #2563eb;
    --danger: #dc2626;
    --success: #10b981;
  }

  /* Inputs and surfaces used on the options page */
  input { background: #475569; color: var(--text); border: 1px solid #64748b; }

  /* Slightly darker shadow for contrast in dark mode */
  .section { box-shadow: 0 1px 4px rgba(0,0,0,0.5); }
}

*{box-sizing: border-box}
body{
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  margin:0;padding:1rem;background:var(--bg);color:var(--text);
}

/* Popup minimum width */
.popup{min-width:300px}

.popup-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:0.5rem}
h1,h2{margin:0 0 0.5rem}

.section{background:var(--surface);border-radius:var(--radius);padding:var(--pad);margin-bottom:1rem;box-shadow:0 1px 6px rgba(2,6,23,0.06)}
.row{display:flex;gap:0.5rem;align-items:center}

button{background:var(--primary);color:white;border:none;border-radius:8px;padding:0.4rem 0.8rem;cursor:pointer;font-size:0.9rem}
button.secondary{background:#64748b}
button:hover{filter:brightness(.95)}

ul{list-style:none;padding:0;margin:0}
li{padding:0.25rem 0;display:flex;justify-content:space-between;align-items:center}
.status-icon{font-weight:700;font-size:1rem;margin-right:0.5rem}
.status-success{background:#dcfce7;color:var(--success);border-radius:6px;padding:0.25rem 0.5rem}
.status-error{background:#fee2e2;color:var(--danger);border-radius:6px;padding:0.25rem 0.5rem}

.overlay-btn{position:absolute;left:0;width:100%;transition:opacity .2s ease;background:var(--danger);color:white;border:none;padding:0.25rem 0.5rem;border-radius:4px;cursor:pointer}
#confirmClear{opacity:0;pointer-events:none}
#confirmClear.show{opacity:1;pointer-events:auto}
#clearHistory.hide{opacity:0;pointer-events:none}

#status{margin-top:0.5rem;font-size:0.85rem;color:var(--muted)}

/* Options page specifics */
.server-list{display:flex;flex-direction:column;gap:1rem;max-width:600px;margin:0}
.server{background:var(--surface);border-radius:12px;padding:1rem;box-shadow:0 2px 6px rgba(2,6,23,0.06);display:flex;flex-direction:column;gap:0.5rem;width:100%}

/* Spacing for options header buttons */
#saveAllBtn{margin-bottom:0.5rem;margin-right:0.5rem;display:inline-block}
#addServer{display:inline-block;margin-top:0.5rem}
.input-group{display:flex;flex-direction:column;gap:0.25rem}
label{font-size:0.85rem;color:var(--muted)}
input{padding:0.4rem 0.6rem;border:1px solid #cbd5e1;border-radius:8px;font-size:0.95rem}
#saveAllBtn.unsaved{box-shadow:0 0 8px 2px #facc15;animation:pulse 1s infinite alternate}
@keyframes pulse{0%{box-shadow:0 0 8px 2px #facc15}100%{box-shadow:0 0 12px 4px #fbbf24}}
